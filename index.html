<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Virgil IoT SDK: Virgil IoTKit C</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Virgil IoT SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Virgil IoTKit C </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://virgilsecurity.github.io/virgil-iotkit/v0.1.0-alpha/"><img src="https://img.shields.io/badge/docs-doxygen-blue.svg" alt="Documentation Doxygen" class="inline"/></a> <a href="https://raw.githubusercontent.com/VirgilSecurity/virgil-iotkit/release/LICENSE"><img src="https://img.shields.io/badge/license-BSD%203--Clause-blue.svg" alt="GitHub license" class="inline"/></a></p>
<p><a href="https://developer.virgilsecurity.com/docs"><img src="https://cdn.virgilsecurity.com/assets/images/github/logos/virgil-logo-red.png" alt="" width="230px" align="left" hspace="1" vspace="3" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Introduction</h1>
<p><a href="https://virgilsecurity.com">Virgil Security</a> provides a set of APIs for adding security to any application and devices.</p>
<p>Virgil IoTKit is a C library for connecting IoT devices to Virgil IoT Security PaaS. IoTKit helps you easily add security to your IoT devices at any lifecycle stage for secure provisioning and authenticating devices, secure updating firmware and trustlists, and for secure exchanging messages using any transport protocols.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Content</h1>
<ul>
<li><a href="#features">Features</a></li>
<li><a href="#iot-dev-tools">IoT Dev Tools</a></li>
<li><a href="#run-iotkit-sandbox">Run IoTKit Sandbox</a></li>
<li><a href="#modules">IoTKit Modules</a></li>
<li><a href="#installation">Installation</a><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#ubuntu-debian-raspbian-os">Ubuntu, Debian, Raspbian OS</a></li>
<li><a href="#fedora-os">Fedora OS</a></li>
<li><a href="#macos">MacOS</a></li>
<li><a href="#windows-os">Windows OS</a></li>
</ul>
</li>
<li><a href="#tests">Tests</a></li>
<li><a href="#iotkit-usage">IoTKit Usage</a></li>
<li><a href="#api-reference">API Reference</a></li>
<li><a href="#license">License</a></li>
<li><a href="#support">Support</a></li>
</ul>
<div id="features"></div><div id="features"></div><h1><a class="anchor" id="autotoc_md3"></a>
Features</h1>
<div id="features">Virgil IoTKit provides a set of features for IoT device security and management:<ul>
<li><b>Crypto Module. Connect any crypto library and Security Module</b>. Virgil IoTKit provides flexible and simple API for any types of crypto library and SECMODULE. At the same time, the framework provides default Software Security Module implementation based on Virgil Crypto. (Support for ATECC608A and ATECC508A in the next version).</li>
<li><b>Provision Module. Secure IoT device provision</b>. In order to securely update firmware, securely register, authenticate or exchange messages between IoT devices, each IoT device must have its own tools, which allow the device to perform cryptographic operations. These tools must contain the necessary information to identify the device or other participants (e.g., trust list provider). These tools are the device keys, trustlists, device card, etc. The process of providing your IoT devices with these tools is called device provision, and Virgil IoTKit gives you all the necessary functionality to make your IoT devices identifiable and verifiable, as a result, protect them from counterfeit and fabrication.</li>
<li><b>Firmware Module. Secure firmware and trustlist verification and distribution</b>. IoTKit provides a set of API for secure verification of firmware in a bootloader. Also, IoTKit provides an example of bootloader implementation in the form of emulator.</li>
<li><b>Secbox Module. Secure software storage for any sensitive data</b>. IoTKit provides secure software storage that is called <b>Secbox</b> for storing any sensitive data, like private keys. The Secbox works in two modes; the first mode - when data is only signed, and the second one - when data is encrypted and then signed.</li>
<li><b>Protocols Module</b>. IoTKit provides a flexible, programmable and security network adaptive protocol (SNAP) for device-to-device, device-to-cloud, and cloud-to-device communication. SNAP can be used for secure firmware distribution, secure notification about device state, secure device provision. Also, SNAP contains a set of functions and interfaces that allows you to work with any transport protocol (BLE, Wi-Fi, PLC, NoiseSocket, etc.). <br  />
</li>
<li><b>Cloud Module. API for working with Virgil IoT Security PaaS</b>. IoTKit interacts with the Virgil IoT Security Platform as a Service (PaaS) to provide you with the services for security, management, and monitoring IoT devices.</li>
<li><b>Logger Module</b>. IoTKit contains a set of functions and interfaces for logging device events.</li>
</ul>
</div><div id="features"><div id="iot-dev-tools"></div></div><div id="features"><div id="iot-dev-tools"></div></div><h1><a class="anchor" id="autotoc_md4"></a>
IoT Dev Tools</h1>
<div id="features"><div id="iot-dev-tools">Virgil Security also provides set of tools for secure device lifecycle.<ul>
<li><b>Virgil Trust Provisioner</b>. The Virgil Trust Provisioner is a CLI used to manage your distributed trust between all parties, including IoT devices, in your IoT solutions. The CLI is aimed at key pairs and TrustLists generation and management, which together make each IoT device identifiable, verifiable and trusted by each party of IoT solution. To start working with the tool read more <a href="/tools/virgil-trust-provisioner">here</a>.</li>
<li><b>Virgil Device Initializer</b>. In order to make each IoT device identifiable, verifiable and trusted by each party of IoT solution you have to provide it with specific provision files, generate private keys and create the digital cards for further device registration in Cloud. Virgil Device Initializer allows you to make IoT device provisioning and prepare your IoT device (create digital cards) for its further registration in Virgil Cloud. To start working with the tool read more <a href="/tools/virgil-device-initializer">here</a>.</li>
<li><b>Virgil Device Registrar</b>. Virgil IoT Device Registrar is used to registrar IoT devices and their digital cards in the Virgil Security Cloud. To start working with the tool read more <a href="/tools/virgil-device-registrar">here</a>.</li>
<li><b>Virgil Firmware Signer</b>. Virgil Firmware Signer is a CLI that allows you to sign a firmware using Auth and Firmware Private Keys to provide firmware integrity before distributing it. To start working with the tool read more <a href="/tools/virgil-firmware-signer">here</a>.</li>
<li><b>Virgil SnapD</b>. Virgil SnapD is a local web utility which allows you to obtain information and statistics of your IoT devices. In order to get such device information SnapD interacts with Virgil SNAP protocol, which operates directly with your IoT devices. As far as Virgil SnapD is a local service, the obtained information can be displayed in browser under <a href="http://localhost:8080/">http://localhost:8080/</a> (by default). In case you work with Virgil IoT Simulator, you can run SnapD under <a href="http://localhost:8081/">http://localhost:8081/</a>. To start working with the tool read more <a href="/tools/virgil-snapd">here</a>.</li>
</ul>
</div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"></div></div></div><h1><a class="anchor" id="autotoc_md5"></a>
Run IoTKit Sandbox</h1>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox">To demonstrate our IoTKit in action we developed <a href="https://github.com/VirgilSecurity/virgil-iotkit/tree/release/v0.1.0-alpha/scripts">Sandbox based on IoTKit</a>.</div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox">The Sandbox is conditionally divided into 3 actors (Vendor, Factory and End-user) and shows secure lifecycle of IoT devices. The Sandbox allows you to:<ul>
<li><b>Generate trusted provisioning package</b>. To start working with emulated IoT infrastructure the Sandbox uses Virgil Trust Provisioner utility for generating provisioning files, such as private keys (e.g. for factory, firmware) and a distributed trust list that contains public keys and signatures of trusted services providers (e.g. factory, cloud).</li>
<li><b>Emulate IoT devices</b>. Then, you can emulate two IoT device types: IoT Gateway - an internet-capable smart device that communicates with other IoT devices and Clouds; and IoT Device - end-device, like smart bulb, that can be controlled remotely through the IoT Gateway.</li>
<li><b>Securely perform IoT device provisioning</b>. Sandbox uses the Virgil Device Initializer for IoT devices provisioning to make them identifiable, verifiable and trusted. Securely integrate trust list and crypto library on IoT devices, then generate key pairs and create digital cards, and sign digital cards with the Factory Key.</li>
<li><b>Register IoT devices on the security platform</b>. At this step the Virgil Device Registrar is used to register digital cards of IoT devices at Virgil Cloud for further device authentication and management.</li>
<li><b>Sign and publish new Firmware and TrustList</b>. Also, you can emulate process of creating and publishing new Firmware or TrustList to Virgil Cloud. Sandbox uses Virgil Firmware Signer to sign a firmware before its distributing.</li>
<li><b>Manage IoT devices</b>. Sandbox allows you to manage IoT devices and get information about their state. Demo uses Virgil services to notify IoT devices about new updates and then securely verify incoming firmware or trust lists before updating them.</li>
</ul>
</div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><img src="https://cdn.virgilsecurity.com/assets/images/github/virgil_demo_iotkit_nix.png?demo" alt="" width="100%" align="left" hspace="0" vspace="6" class="inline"/></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox">To start working with the Sandbox follow <a href="https://github.com/VirgilSecurity/virgil-iotkit/tree/release/v0.1.0-alpha/scripts">Sandbox README</a>.</div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"></div></div></div></div><h1><a class="anchor" id="autotoc_md6"></a>
Modules</h1>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules">As we mentioned above, Virgil IoTKit provides a set of features that implemented to modules:<ul>
<li><b><a href="https://virgilsecurity.github.io/virgil-iotkit/cloud_8h.html">Cloud Module</a></b> is used for for obtaining credentials from Virgil Thing service and downloading firmware images and trustlist files from cloud storage.</li>
<li><b>Crypto Module</b> is used for cryptographic operations with callbacks for <a href="https://virgilsecurity.github.io/virgil-iotkit/secmodule_8h.html">Software Security Module</a> and <a href="https://virgilsecurity.github.io/virgil-iotkit/crypto__format__converters_8h.html">cryptographic converters</a>.</li>
<li><b><a href="https://virgilsecurity.github.io/virgil-iotkit/firmware_8h.html">Firmware Module</a></b> is used for firmware downloading, uploading and processing by IoT Gateway or by Thing (IoT Device).</li>
<li><b><a href="https://virgilsecurity.github.io/virgil-iotkit/logger_8h.html">Logger</a></b> is a tool is used to output logging messages to screen, file etc.</li>
<li><b><a href="https://virgilsecurity.github.io/virgil-iotkit/provision_8h.html">Provision</a></b>. Trust List keys reading and verifying.</li>
<li><b><a href="https://virgilsecurity.github.io/virgil-iotkit/secbox_8h.html">Secbox</a></b> is a secure data storage wth signing and authenticating abilities.</li>
<li><b>Protocols Module</b> provides the set of services for <a href="https://virgilsecurity.github.io/virgil-iotkit/snap_8h.html">SNAP</a> protocol:<ul>
<li>INFO: service for collecting statistics from devices. See <a href="https://virgilsecurity.github.io/virgil-iotkit/info-server_8h.html">INFO Server</a> and <a href="https://virgilsecurity.github.io/virgil-iotkit/info-client_8h.html">INFO Client</a></li>
<li>FLDT: service for files download from Gateway to Thing. See <a href="https://virgilsecurity.github.io/virgil-iotkit/fldt-server_8h.html">FLDT Server</a> and <a href="https://virgilsecurity.github.io/virgil-iotkit/fldt-client_8h.html">FLDT Client</a></li>
<li>PRVS: service for make provision for device by factory initializer. See <a href="https://virgilsecurity.github.io/virgil-iotkit/prvs-server_8h.html">PRVS Server</a> and <a href="https://virgilsecurity.github.io/virgil-iotkit/prvs-client_8h.html">PRVS Client</a></li>
</ul>
</li>
</ul>
</div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h1><a class="anchor" id="autotoc_md7"></a>
Installation</h1>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation">Virgil IoTKit is distributed as a package. This section demonstrates on how to install Virgil IoTKit for preferred platform.</div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h2><a class="anchor" id="autotoc_md8"></a>
Prerequisites</h2>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation">To start working with Virgil IoTKit the following components are required:<ul>
<li>CMake v3.11 or higher, for project building</li>
<li>GCC or another toolchain for C/C++ compile</li>
<li><a href="https://golang.org/">Golang</a> to compile Virgil IoT dev tools</li>
<li><a href="https://git-scm.com/">git</a> for Virgil Crypto installation and update</li>
<li><a href="https://curl.haxx.se/">curl</a></li>
<li>Virgil Crypto library</li>
</ul>
</div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation">To install the Virgil Crypto library run the <code>install-virgil-crypto.sh</code> from the scripts folder of the Virgil IoTKit: <div class="fragment"><div class="line">$ scripts/install-virgil-crypto.sh</div>
</div><!-- fragment --></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h2><a class="anchor" id="autotoc_md9"></a>
Ubuntu, Debian, Raspbian OS</h2>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation">To download and install the Virgil IoTKit on Ubuntu, use the following command:</div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div class="fragment"><div class="line">$ sude apt-get install make gcc cmake golang git libcurl4-openssl-dev doxygen swig</div>
</div><!-- fragment --></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation">To add repository to preferred OS use the following command:</div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h3><a class="anchor" id="autotoc_md10"></a>
Ubuntu 19.10 Suite (eoan)</h3>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div class="fragment"><div class="line">echo &quot;deb http://virgilsecurity.bintray.com/iot-deb/ Ubuntu_19  iot&quot; &gt;&gt; /etc/apt/sources.list</div>
</div><!-- fragment --></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h3><a class="anchor" id="autotoc_md11"></a>
Ubuntu 18.04 (bionic)</h3>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div class="fragment"><div class="line">echo &quot;deb http://virgilsecurity.bintray.com/iot-deb/ Ubuntu_18 iot&quot; &gt;&gt; /etc/apt/sources.list</div>
</div><!-- fragment --></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h3><a class="anchor" id="autotoc_md12"></a>
Raspbian 9 (stretch)</h3>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div class="fragment"><div class="line">echo &quot;deb http://virgilsecurity.bintray.com/iot-deb/ Raspbian_9 iot&quot; &gt;&gt; /etc/apt/sources.list</div>
</div><!-- fragment --></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h3><a class="anchor" id="autotoc_md13"></a>
Raspbian 10 (buster)</h3>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div class="fragment"><div class="line">echo &quot;deb http://virgilsecurity.bintray.com/iot-deb/ Raspbian_10 iot&quot; &gt;&gt; /etc/apt/sources.list</div>
</div><!-- fragment --></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><b>Note!</b> All DEB repositories are not signed, therefore to update lists for them use the following command: <code>apt-get update --allow-insecure-repositories --allow-unauthenticated</code></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h2><a class="anchor" id="autotoc_md14"></a>
Fedora OS</h2>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation">To download and install the Virgil IoTKit on Fedora or CentOS, use the following command:</div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div class="fragment"><div class="line">$ sudo yum install make cmake golang git gcc gcc-c++ libcurl-devel doxygen swig</div>
</div><!-- fragment --> To add repository to preferred OS use the following command:</div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h3><a class="anchor" id="autotoc_md15"></a>
Fedora 29</h3>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div class="fragment"><div class="line">yum install https://virgilsecurity.bintray.com/iot-rpm/Fedora/29/x86_64/virgil-bintray-release-0.1.0-1.1.noarch.rpm</div>
</div><!-- fragment --></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h3><a class="anchor" id="autotoc_md16"></a>
Fedora 30</h3>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div class="fragment"><div class="line">yum install https://virgilsecurity.bintray.com/iot-rpm/Fedora/30/x86_64/virgil-bintray-release-0.1.0-1.1.noarch.rpm</div>
</div><!-- fragment --></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h3><a class="anchor" id="autotoc_md17"></a>
Fedora 31</h3>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div class="fragment"><div class="line">yum install https://virgilsecurity.bintray.com/iot-rpm/Fedora/31/x86_64/virgil-bintray-release-0.1.0-1.1.noarch.rpm</div>
</div><!-- fragment --></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h2><a class="anchor" id="autotoc_md18"></a>
MacOS</h2>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation">To download and install the Virgil IoTKit on MacOS, use the following command: <div class="fragment"><div class="line">$ brew install make cmake golang git gcc curl doxygen swig</div>
</div><!-- fragment --></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"></div></div></div></div></div><h2><a class="anchor" id="autotoc_md19"></a>
Windows OS</h2>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation">Virgil IoTKit for Windows OS is currently in development. To be included to information update list please contact our support team: <a href="#" onclick="location.href='mai'+'lto:'+'sup'+'po'+'rt@'+'Vi'+'rgi'+'lS'+'ecu'+'ri'+'ty.'+'co'+'m'; return false;">suppo<span style="display: none;">.nosp@m.</span>rt@V<span style="display: none;">.nosp@m.</span>irgil<span style="display: none;">.nosp@m.</span>Secu<span style="display: none;">.nosp@m.</span>rity.<span style="display: none;">.nosp@m.</span>com</a>.</div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"></div></div></div></div></div></div><h1><a class="anchor" id="autotoc_md20"></a>
Tests</h1>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests">To make sure that everything goes in the right way, we also provide a set of ready code-snippets for testing the necessary features:<ul>
<li>Crypto: crypto algorithms (e. g. hash, RNG, AES) and crypto operations (key pair, sign/verify etc.).</li>
<li>Firmware related functionality: create firmware, save/load/install.</li>
<li>Security Box (test storage module): read write for signed or/and encrypted data.</li>
<li>SNAP (Secure Network Adjustable Protocol tests): send, receive etc.</li>
</ul>
</div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests">Navigate to the <a href="https://github.com/VirgilSecurity/demo-iotkit-nix/tree/release/v0.1.0-alpha/tests">tests folder</a> of our IoTKit Demo repository to find preferred tests and start working with them.</div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"></div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"></div></div></div></div></div></div></div><h1><a class="anchor" id="autotoc_md21"></a>
IoTKit Usage</h1>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage">To start working with Virgil IoTKit you have to:<ul>
<li>specify configuration headers path.</li>
<li>provide implementations (you can also use default implementations).</li>
</ul>
</div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"></div></div></div></div></div></div></div><h2><a class="anchor" id="autotoc_md22"></a>
Configuration headers</h2>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage">There are configuration headers that customize Virigl IoTKit, they are stored in <b>config directory</b>. You can provide your headers or use standard ones.</div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage">It's necessary to add <code>VIRGIL_IOT_CONFIG_DIRECTORY</code> variable that points to directory with configuration files.</div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><blockquote class="doxtable">
<p>For example, if you want to use PC configuration provided by library and library is stored in <code>virgil-iotkit</code> directory, </p>
</blockquote>
you have to set compiler option: <code>-DVIRGIL_IOT_CONFIG_DIRECTORY virgil-iotkit/config/pc</code>.</div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"></div></div></div></div></div></div></div><h2><a class="anchor" id="autotoc_md23"></a>
Mandatory implementations</h2>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage">Some IoTKit modules use external implementations, therefore it's necessary to implement HAL (hardware abstraction layer) functions:<ul>
<li><a href="https://virgilsecurity.github.io/virgil-iotkit/storage__hal_8h.html">Storage context</a>: structure <b><a class="el" href="structvs__storage__op__ctx__t.html" title="Storage element context.">vs_storage_op_ctx_t</a></b> contains external data operations like open/read/write/close. See <a href="https://virgilsecurity.github.io/virgil-iotkit/storage__hal_8h.html">Storage HAL</a> for details.</li>
<li><a href="https://virgilsecurity.github.io/virgil-iotkit/firmware_8h.html">Firmware</a>: <b>vs_firmware_install_prepare_space_hal</b>, <b>vs_firmware_install_append_data_hal</b> and <b>vs_firmware_get_own_firmware_footer_hal</b> functions have to be implemented for firmware processing. See <a href="https://virgilsecurity.github.io/virgil-iotkit/firmware__hal_8h.html#details">Firmware HAL</a> for details.</li>
<li><a href="https://virgilsecurity.github.io/virgil-iotkit/logger_8h.html">Logger</a>: depends on <a href="https://virgilsecurity.github.io/virgil-iotkit/logger-config_8h.html">logger-config.h</a> configurations <b>vs_logger_output_hal</b> for string output and/or <b>vs_logger_current_time_hal</b> for current time output. See <a href="https://virgilsecurity.github.io/virgil-iotkit/logger-hal_8h.html">Logger HAL</a> for details.</li>
<li><a href="https://virgilsecurity.github.io/virgil-iotkit/snap_8h.html">SNAP protocol</a>: <b><a class="el" href="structvs__netif__t.html" title="Network interface.">vs_netif_t</a></b> network interface as transport level for SNAP protocol. As <a href="https://github.com/VirgilSecurity/demo-iotkit-nix/blob/release/v0.1.0-alpha/common/src/sdk-impl/netif/netif-udp-broadcast.c">UDP broadcast example</a> user can use c-implementation tool. See <a href="https://virgilsecurity.github.io/virgil-iotkit/snap-structs_8h.html">SNAP Reference</a> for details.</li>
<li><a href="https://virgilsecurity.github.io/virgil-iotkit/fldt-server_8h.html">FLDT Server</a> is a service that is used by a IoT Gateway for files (e.g. Firmware, TrustLists) distribution for IoT devices. Server sends new files in the network to IoT Devices and processes Client requests for new files.</li>
<li><a href="https://virgilsecurity.github.io/virgil-iotkit/fldt-client_8h.html">FLDT Client</a> is client for FLDT service that used by IoT Devices to receive new files (e.g. Firmware, TrustLists) from IoT Gateway. FLDT Client also can request files versions.</li>
<li><a href="https://virgilsecurity.github.io/virgil-iotkit/prvs-client_8h.html">PRVS Client</a>: there is a need to implement <b><a class="el" href="structvs__snap__prvs__client__impl__t.html" title="PRVS client implementation.">vs_snap_prvs_client_impl_t</a></b> structure. This structure contains wait functions for SNAP interface. You can see example of implementation in the <a href="https://github.com/VirgilSecurity/virgil-iotkit/blob/release/v0.1.0-alpha/tools/c-implementation/src/helpers/ti_wait_functionality.c">c-implementation</a>.</li>
</ul>
</div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"></div></div></div></div></div></div></div><h2><a class="anchor" id="autotoc_md24"></a>
Default Mandatory implementations</h2>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage">Virgil IoTKit also provides default mandatory implementations:<ul>
<li><a href="https://virgilsecurity.github.io/virgil-iotkit/cloud_8h.html">Cloud</a> : <b><a class="el" href="structvs__cloud__impl__t.html" title="Cloud implementation.">vs_cloud_impl_t</a></b> and <b><a class="el" href="structvs__cloud__message__bin__impl__t.html" title="Message Bin implementation.">vs_cloud_message_bin_impl_t</a></b> are required <code>by vs_cloud_init</code>. Function <code>vs_curl_http_impl</code> returns cURL HTTP implementation, <code><a class="el" href="structvs__cloud__message__bin__impl__t.html" title="Message Bin implementation.">vs_cloud_message_bin_impl_t</a></code> returns MQTT implementation.</li>
<li><a href="https://virgilsecurity.github.io/virgil-iotkit/secmodule_8h.html">Crypto</a> introduces security module implementation structure <b><a class="el" href="structvs__secmodule__impl__t.html" title="Security Module implementation.">vs_secmodule_impl_t</a></b>. Function <code>vs_soft_secmodule_impl</code> returns software implementation.</li>
</ul>
</div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"></div></div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"></div></div></div></div></div></div></div></div><h1><a class="anchor" id="autotoc_md25"></a>
API Reference</h1>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"><ul>
<li><a href="https://virgilsecurity.github.io/virgil-iotkit/v0.1.0-alpha/">API Reference of IoTKit</a></li>
</ul>
</div></div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"><div id="license"></div></div></div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"><div id="license"></div></div></div></div></div></div></div></div></div><h1><a class="anchor" id="autotoc_md26"></a>
License</h1>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"><div id="license"> This library is released under the [3-clause BSD License](LICENSE).</div></div></div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"><div id="license"><div id="support"></div></div></div></div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"><div id="license"><div id="support"></div></div></div></div></div></div></div></div></div></div><h1><a class="anchor" id="autotoc_md27"></a>
Support</h1>
<div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"><div id="license"><div id="support">Our developer support team is here to help you. Find more information on our <a href="https://help.virgilsecurity.com/">Help Center</a>.</div></div></div></div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"><div id="license"><div id="support">You can find us on <a href="https://twitter.com/VirgilSecurity">Twitter</a> or send us email <a href="#" onclick="location.href='mai'+'lto:'+'sup'+'po'+'rt@'+'Vi'+'rgi'+'lS'+'ecu'+'ri'+'ty.'+'co'+'m'; return false;">suppo<span style="display: none;">.nosp@m.</span>rt@V<span style="display: none;">.nosp@m.</span>irgil<span style="display: none;">.nosp@m.</span>Secu<span style="display: none;">.nosp@m.</span>rity.<span style="display: none;">.nosp@m.</span>com</a>.</div></div></div></div></div></div></div></div></div></div><div id="features"><div id="iot-dev-tools"><div id="run-iotkit-sandbox"><div id="modules"><div id="installation"><div id="tests"><div id="iotkit-usage"><div id="api-reference"><div id="license"><div id="support">Also, get extra help from our support team on <a href="https://virgilsecurity.com/join-community">Slack</a>. </div></div></div></div></div></div></div></div></div></div></div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
