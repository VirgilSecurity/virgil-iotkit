<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Virgil IoT SDK: modules/protocols/snap/include/virgil/iot/protocols/snap/info/info-client.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Virgil IoT SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e05d7e2b1ecd646af5bb94391405f3b5.html">modules</a></li><li class="navelem"><a class="el" href="dir_2bd68166f0904077a554350189b98b53.html">protocols</a></li><li class="navelem"><a class="el" href="dir_adff384897c6499a4d18fea487943bf4.html">snap</a></li><li class="navelem"><a class="el" href="dir_fd0060761861f6d4b51729d7e8573b72.html">include</a></li><li class="navelem"><a class="el" href="dir_e3479dea0afb63e4a471c1a04c32f8b3.html">virgil</a></li><li class="navelem"><a class="el" href="dir_76c6552cc82eda007a698da937581b9e.html">iot</a></li><li class="navelem"><a class="el" href="dir_a545be9a4669b66880684555ddb858f1.html">protocols</a></li><li class="navelem"><a class="el" href="dir_30ba789c892c59a3b74ccd5ba53c5eb8.html">snap</a></li><li class="navelem"><a class="el" href="dir_89212aabb7c86c78a92fc93442eaf186.html">info</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">info-client.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>INFO for client.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="info-structs_8h_source.html">virgil/iot/protocols/snap/info/info-structs.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="snap-structs_8h_source.html">virgil/iot/protocols/snap/snap-structs.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="status__code_8h_source.html">virgil/iot/status_code/status_code.h</a>&gt;</code><br />
</div>
<p><a href="info-client_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvs__snap__info__callbacks__t.html">vs_snap_info_callbacks_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">INFO client implementations.  <a href="structvs__snap__info__callbacks__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a477be025b945a562988245766c34cc76"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="info-client_8h.html#a477be025b945a562988245766c34cc76">vs_snap_info_wait_t</a>) (uint32_t wait_ms, int *condition, int idle)</td></tr>
<tr class="memdesc:a477be025b945a562988245766c34cc76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait implementation.  <a href="info-client_8h.html#a477be025b945a562988245766c34cc76">More...</a><br /></td></tr>
<tr class="separator:a477be025b945a562988245766c34cc76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdd5cb442039298649f6f424bee2daa"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="info-client_8h.html#a5fdd5cb442039298649f6f424bee2daa">vs_snap_info_stop_wait_t</a>) (int *condition, int expect)</td></tr>
<tr class="memdesc:a5fdd5cb442039298649f6f424bee2daa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait and stop callback.  <a href="info-client_8h.html#a5fdd5cb442039298649f6f424bee2daa">More...</a><br /></td></tr>
<tr class="separator:a5fdd5cb442039298649f6f424bee2daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c8dd087154460a5926f7d2fc483221"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="info-client_8h.html#af4c8dd087154460a5926f7d2fc483221">vs_snap_info_start_notif_cb_t</a>) (<a class="el" href="structvs__snap__info__device__t.html">vs_snap_info_device_t</a> *device)</td></tr>
<tr class="memdesc:af4c8dd087154460a5926f7d2fc483221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start notification request.  <a href="info-client_8h.html#af4c8dd087154460a5926f7d2fc483221">More...</a><br /></td></tr>
<tr class="separator:af4c8dd087154460a5926f7d2fc483221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9f3d6bc7680c4b1c4a6d419a23749e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="info-client_8h.html#aac9f3d6bc7680c4b1c4a6d419a23749e">vs_snap_info_general_cb_t</a>) (<a class="el" href="structvs__info__general__t.html">vs_info_general_t</a> *general_info)</td></tr>
<tr class="memdesc:aac9f3d6bc7680c4b1c4a6d419a23749e"><td class="mdescLeft">&#160;</td><td class="mdescRight">General device information request.  <a href="info-client_8h.html#aac9f3d6bc7680c4b1c4a6d419a23749e">More...</a><br /></td></tr>
<tr class="separator:aac9f3d6bc7680c4b1c4a6d419a23749e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3089ec014dec830adacc1aaabbb89829"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="info-client_8h.html#a3089ec014dec830adacc1aaabbb89829">vs_snap_info_statistics_cb_t</a>) (<a class="el" href="structvs__info__statistics__t.html">vs_info_statistics_t</a> *statistics)</td></tr>
<tr class="memdesc:a3089ec014dec830adacc1aaabbb89829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device statistics request.  <a href="info-client_8h.html#a3089ec014dec830adacc1aaabbb89829">More...</a><br /></td></tr>
<tr class="separator:a3089ec014dec830adacc1aaabbb89829"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0721d4bc7056132fa35570c725baca48"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structvs__snap__service__t.html">vs_snap_service_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="info-client_8h.html#a0721d4bc7056132fa35570c725baca48">vs_snap_info_client</a> (<a class="el" href="structvs__snap__info__callbacks__t.html">vs_snap_info_callbacks_t</a> callbacks)</td></tr>
<tr class="memdesc:a0721d4bc7056132fa35570c725baca48"><td class="mdescLeft">&#160;</td><td class="mdescRight">INFO Client SNAP Service implementation.  <a href="info-client_8h.html#a0721d4bc7056132fa35570c725baca48">More...</a><br /></td></tr>
<tr class="separator:a0721d4bc7056132fa35570c725baca48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b348c4953ef3c7a59f0aa125404ace3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="info-client_8h.html#a8b348c4953ef3c7a59f0aa125404ace3">vs_snap_info_enum_devices</a> (const <a class="el" href="structvs__netif__t.html">vs_netif_t</a> *netif, <a class="el" href="structvs__snap__info__device__t.html">vs_snap_info_device_t</a> *devices, size_t devices_max, size_t *devices_cnt, uint32_t wait_ms)</td></tr>
<tr class="memdesc:a8b348c4953ef3c7a59f0aa125404ace3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerate devices.  <a href="info-client_8h.html#a8b348c4953ef3c7a59f0aa125404ace3">More...</a><br /></td></tr>
<tr class="separator:a8b348c4953ef3c7a59f0aa125404ace3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd1cb39a2ba81fd13f191d1b29b53eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="info-client_8h.html#a9cd1cb39a2ba81fd13f191d1b29b53eb">vs_snap_info_set_polling</a> (const <a class="el" href="structvs__netif__t.html">vs_netif_t</a> *netif, const <a class="el" href="structvs__mac__addr__t.html">vs_mac_addr_t</a> *mac, uint32_t elements, bool enable, uint16_t period_seconds)</td></tr>
<tr class="memdesc:a9cd1cb39a2ba81fd13f191d1b29b53eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set pooling.  <a href="info-client_8h.html#a9cd1cb39a2ba81fd13f191d1b29b53eb">More...</a><br /></td></tr>
<tr class="separator:a9cd1cb39a2ba81fd13f191d1b29b53eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>INFO for client. </p>
<p>INFO service is used to provide information about current device state in the local network. Network in this case is limited by SNAP transport protocol.</p>
<p>In INFO meaning "Server" is any functional device. "Client" is the special device for statistic collection only. It can be any server PC or MCU device. Servers send their statistic information by startup. Also client can request periodical state sending by polling request.</p>
<p>Virgil IoT KIT provides client example as virgil-snapd application.</p>
<h1><a class="anchor" id="info_client_usage"></a>
INFO Client usage</h1>
<p>Before first INFO calls usage it is necessary to register INFO Client service :</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="structvs__snap__service__t.html">vs_snap_service_t</a> *snap_info_client;     <span class="comment">// INFO service</span></div>
<div class="line"><a class="code" href="structvs__snap__info__device__t.html">vs_snap_info_device_t</a> devices[100];            <span class="comment">// Devices list. Assuming 100 devices in the list is enough</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">size_t</span> devices_max = <span class="keyword">sizeof</span>(devices) / <span class="keyword">sizeof</span>(devices[0]);   <span class="comment">// Maximum devices in the list</span></div>
<div class="line"><span class="keywordtype">size_t</span> devices_amount = 0;                     <span class="comment">// Enumerates devices amount</span></div>
<div class="line">uint32_t wait_ms = 3000;                       <span class="comment">// Waiting 3 seconds for all devices enumerating</span></div>
<div class="line"><a class="code" href="structvs__mac__addr__t.html">vs_mac_addr_t</a> own_mac;                         <span class="comment">// Own MAC address</span></div>
<div class="line">uint16_t poll_period_sec = 1;                  <span class="comment">// Send statistics each second</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize own_mac</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Register INFO Client service</span></div>
<div class="line">snap_info_client = <a class="code" href="info-client_8h.html#a0721d4bc7056132fa35570c725baca48">vs_snap_info_client</a>(_info_client_impl());</div>
<div class="line"><a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="snap_8h.html#a692661c304f19a0cd382d3948e3fa862">vs_snap_register_service</a>(snap_info_client), <span class="stringliteral">&quot;Cannot register INFO Сlient service&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Enumerate devices</span></div>
<div class="line"><a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="info-client_8h.html#a8b348c4953ef3c7a59f0aa125404ace3">vs_snap_info_enum_devices</a>(NULL, devices, devices_max, &amp;devices_amount, wait_ms),</div>
<div class="line">   <span class="stringliteral">&quot;Unable to enumerate devices in the network&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Request periodical state sending for all parameters</span></div>
<div class="line"><a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="info-client_8h.html#a9cd1cb39a2ba81fd13f191d1b29b53eb">vs_snap_info_set_polling</a>(NULL, &amp;own_mac, <a class="code" href="info-structs_8h.html#afd046f89d5f1e7148ed6ee2a95e95cfca9ccef5beb2345cff7f83b0e70c9320b4">VS_SNAP_INFO_GENERAL</a> | <a class="code" href="info-structs_8h.html#afd046f89d5f1e7148ed6ee2a95e95cfcaf2796988dee87a3e716ca0459946b995">VS_SNAP_INFO_STATISTICS</a>, <span class="keyword">true</span>,</div>
<div class="line">   poll_period_sec), <span class="stringliteral">&quot;Unable to request periodical polling sends&quot;</span>);</div>
</div><!-- fragment --><p>own_mac is initialized by current device MAC address. It can be provided by <a class="el" href="snap_8h.html#a0c6a2211018cb740d586917ac944139d" title="MAC address.">vs_snap_mac_addr</a> call.</p>
<p><a class="el" href="info-client_8h.html#a0721d4bc7056132fa35570c725baca48" title="INFO Client SNAP Service implementation.">vs_snap_info_client</a> receives structure with notification implementations :</p>
<dl class="section note"><dt>Note</dt><dd>All callbacks can be NULL.</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a></div>
<div class="line">_device_start_impl(<a class="code" href="structvs__snap__info__device__t.html">vs_snap_info_device_t</a> *device) {</div>
<div class="line">     <span class="comment">// Process startup notification</span></div>
<div class="line"> }</div>
<div class="line"> </div>
<div class="line"><a class="code" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a></div>
<div class="line">_general_info_impl(<a class="code" href="structvs__info__general__t.html">vs_info_general_t</a> *general_info) {</div>
<div class="line">     <span class="comment">// Process general device information</span></div>
<div class="line"> }</div>
<div class="line"> </div>
<div class="line"><a class="code" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a></div>
<div class="line">_statistics_impl(<a class="code" href="structvs__info__statistics__t.html">vs_info_statistics_t</a> *statistics) {</div>
<div class="line">     <span class="comment">// Process device statistics</span></div>
<div class="line"> }</div>
<div class="line"> </div>
<div class="line"><a class="code" href="structvs__snap__info__callbacks__t.html">vs_snap_info_callbacks_t</a></div>
<div class="line">_info_client_impl() {</div>
<div class="line">     <a class="code" href="structvs__snap__info__callbacks__t.html">vs_snap_info_callbacks_t</a> impl;</div>
<div class="line">     impl.<a class="code" href="structvs__snap__info__callbacks__t.html#a99c137e5a46c308f63fce12a13774741">device_start_cb</a> = _device_start_impl;</div>
<div class="line">     impl.<a class="code" href="structvs__snap__info__callbacks__t.html#acc603b4ffebd66690f51fdb8d1c1a721">general_info_cb</a> = _general_info_impl;</div>
<div class="line">     impl.<a class="code" href="structvs__snap__info__callbacks__t.html#a4178270988d934649ef0222c867b5731">statistics_cb</a> = _statistics_impl;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Polling is started by <a class="el" href="info-client_8h.html#a9cd1cb39a2ba81fd13f191d1b29b53eb" title="Set pooling.">vs_snap_info_set_polling</a> request with <em>enable</em> = true. <em>enable</em> = false removes specified statistic element specified by <em>elements</em> mask. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="aac9f3d6bc7680c4b1c4a6d419a23749e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac9f3d6bc7680c4b1c4a6d419a23749e">&#9670;&nbsp;</a></span>vs_snap_info_general_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>(* vs_snap_info_general_cb_t) (<a class="el" href="structvs__info__general__t.html">vs_info_general_t</a> *general_info)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General device information request. </p>
<p>This function is called by receiving general device information.</p>
<p>General device information polling is started by <a class="el" href="info-client_8h.html#a9cd1cb39a2ba81fd13f191d1b29b53eb" title="Set pooling.">vs_snap_info_set_polling</a> call when <em>elements</em> contains VS_SNAP_INFO_GENERAL bit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">general_info</td><td><a class="el" href="structvs__info__general__t.html" title="Device general information.">vs_info_general_t</a> device information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="af4c8dd087154460a5926f7d2fc483221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4c8dd087154460a5926f7d2fc483221">&#9670;&nbsp;</a></span>vs_snap_info_start_notif_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>(* vs_snap_info_start_notif_cb_t) (<a class="el" href="structvs__snap__info__device__t.html">vs_snap_info_device_t</a> *device)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start notification request. </p>
<p>This function is called by receiving startup notification from device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td><a class="el" href="structvs__snap__info__device__t.html" title="Device information.">vs_snap_info_device_t</a> device information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a3089ec014dec830adacc1aaabbb89829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3089ec014dec830adacc1aaabbb89829">&#9670;&nbsp;</a></span>vs_snap_info_statistics_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>(* vs_snap_info_statistics_cb_t) (<a class="el" href="structvs__info__statistics__t.html">vs_info_statistics_t</a> *statistics)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Device statistics request. </p>
<p>This function is called by receiving device statistics.</p>
<p>General device information polling is started by <a class="el" href="info-client_8h.html#a9cd1cb39a2ba81fd13f191d1b29b53eb" title="Set pooling.">vs_snap_info_set_polling</a> call when <em>elements</em> contains VS_SNAP_INFO_STATISTICS bit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">statistics</td><td><a class="el" href="structvs__info__statistics__t.html" title="Device statistics.">vs_info_statistics_t</a> device information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a5fdd5cb442039298649f6f424bee2daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fdd5cb442039298649f6f424bee2daa">&#9670;&nbsp;</a></span>vs_snap_info_stop_wait_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>(* vs_snap_info_stop_wait_t) (int *condition, int expect)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait and stop callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">condition</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">expect</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a477be025b945a562988245766c34cc76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a477be025b945a562988245766c34cc76">&#9670;&nbsp;</a></span>vs_snap_info_wait_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>(* vs_snap_info_wait_t) (uint32_t wait_ms, int *condition, int idle)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait implementation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">wait_ms</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">condition</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idle</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0721d4bc7056132fa35570c725baca48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0721d4bc7056132fa35570c725baca48">&#9670;&nbsp;</a></span>vs_snap_info_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structvs__snap__service__t.html">vs_snap_service_t</a>* vs_snap_info_client </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvs__snap__info__callbacks__t.html">vs_snap_info_callbacks_t</a>&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>INFO Client SNAP Service implementation. </p>
<p>This call returns INFO client implementation. It must be called before any INFO call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callbacks</td><td><a class="el" href="structvs__snap__info__callbacks__t.html" title="INFO client implementations.">vs_snap_info_callbacks_t</a> callbacks. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structvs__snap__service__t.html" title="SNAP service descriptor.">vs_snap_service_t</a> SNAP service description. Use this pointer to call <a class="el" href="snap_8h.html#a692661c304f19a0cd382d3948e3fa862" title="Register SNAP service.">vs_snap_register_service</a>. </dd></dl>

</div>
</div>
<a id="a8b348c4953ef3c7a59f0aa125404ace3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b348c4953ef3c7a59f0aa125404ace3">&#9670;&nbsp;</a></span>vs_snap_info_enum_devices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_snap_info_enum_devices </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvs__netif__t.html">vs_netif_t</a> *&#160;</td>
          <td class="paramname"><em>netif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvs__snap__info__device__t.html">vs_snap_info_device_t</a> *&#160;</td>
          <td class="paramname"><em>devices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>devices_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>devices_cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>wait_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumerate devices. </p>
<p>This call enumerates all devices present in the current network. It waits for <em>wait_ms</em> and returns collected information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">netif</td><td><a class="el" href="structvs__netif__t.html" title="Network interface.">vs_netif_t</a> SNAP service descriptor. If NULL, default one will be used. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">devices</td><td><a class="el" href="structvs__snap__info__device__t.html" title="Device information.">vs_snap_info_device_t</a> Devices information list. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">devices_max</td><td>Maximum devices amount. Must not be zero. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">devices_cnt</td><td>Buffer to store devices amount. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wait_ms</td><td>Time to wait response.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a9cd1cb39a2ba81fd13f191d1b29b53eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cd1cb39a2ba81fd13f191d1b29b53eb">&#9670;&nbsp;</a></span>vs_snap_info_set_polling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_snap_info_set_polling </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvs__netif__t.html">vs_netif_t</a> *&#160;</td>
          <td class="paramname"><em>netif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvs__mac__addr__t.html">vs_mac_addr_t</a> *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>elements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>period_seconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set pooling. </p>
<p>This call enables or disables polling for elements masked in <em>elements</em> field that contains mask with <a class="el" href="info-structs_8h.html#afd046f89d5f1e7148ed6ee2a95e95cfc" title="Device statistics.">vs_snap_info_element_mask_e</a> fields.</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">netif</td><td><a class="el" href="structvs__netif__t.html" title="Network interface.">vs_netif_t</a> SNAP service descriptor. If NULL, default one will be used.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mac</td><td><a class="el" href="structvs__mac__addr__t.html" title="MAC address.">vs_mac_addr_t</a> MAC address. Must not be NULL.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">elements</td><td><a class="el" href="info-structs_8h.html#afd046f89d5f1e7148ed6ee2a95e95cfc" title="Device statistics.">vs_snap_info_element_mask_e</a> mask.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">enable</td><td>Enable or disable <em>elements</em> to be sent.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">period_seconds</td><td>Period in seconds for statistics sending</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="ainfo-structs_8h_html_afd046f89d5f1e7148ed6ee2a95e95cfcaf2796988dee87a3e716ca0459946b995"><div class="ttname"><a href="info-structs_8h.html#afd046f89d5f1e7148ed6ee2a95e95cfcaf2796988dee87a3e716ca0459946b995">VS_SNAP_INFO_STATISTICS</a></div><div class="ttdoc">Devist statistic vs_info_statistics_t will be sent.</div><div class="ttdef"><b>Definition:</b> info-structs.h:102</div></div>
<div class="ttc" id="astructvs__snap__info__device__t_html"><div class="ttname"><a href="structvs__snap__info__device__t.html">vs_snap_info_device_t</a></div><div class="ttdoc">Device information.</div><div class="ttdef"><b>Definition:</b> info-structs.h:54</div></div>
<div class="ttc" id="ainfo-client_8h_html_a9cd1cb39a2ba81fd13f191d1b29b53eb"><div class="ttname"><a href="info-client_8h.html#a9cd1cb39a2ba81fd13f191d1b29b53eb">vs_snap_info_set_polling</a></div><div class="ttdeci">vs_status_e vs_snap_info_set_polling(const vs_netif_t *netif, const vs_mac_addr_t *mac, uint32_t elements, bool enable, uint16_t period_seconds)</div><div class="ttdoc">Set pooling.</div></div>
<div class="ttc" id="astatus__code_8h_html_af385b5c6ab5f3183ce75d4d1e676e432"><div class="ttname"><a href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a></div><div class="ttdeci">vs_status_e</div><div class="ttdoc">Status code.</div><div class="ttdef"><b>Definition:</b> status_code.h:72</div></div>
<div class="ttc" id="astructvs__mac__addr__t_html"><div class="ttname"><a href="structvs__mac__addr__t.html">vs_mac_addr_t</a></div><div class="ttdoc">MAC address.</div><div class="ttdef"><b>Definition:</b> snap-structs.h:245</div></div>
<div class="ttc" id="astatus__code_8h_html_aa0d986d170e834631b902001dae653a2"><div class="ttname"><a href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a></div><div class="ttdeci">#define STATUS_CHECK(OPERATION, MESSAGE,...)</div><div class="ttdoc">Status code check and perform goto terminate if non-successful.</div><div class="ttdef"><b>Definition:</b> status_code.h:134</div></div>
<div class="ttc" id="ainfo-client_8h_html_a8b348c4953ef3c7a59f0aa125404ace3"><div class="ttname"><a href="info-client_8h.html#a8b348c4953ef3c7a59f0aa125404ace3">vs_snap_info_enum_devices</a></div><div class="ttdeci">vs_status_e vs_snap_info_enum_devices(const vs_netif_t *netif, vs_snap_info_device_t *devices, size_t devices_max, size_t *devices_cnt, uint32_t wait_ms)</div><div class="ttdoc">Enumerate devices.</div></div>
<div class="ttc" id="astructvs__snap__info__callbacks__t_html_a99c137e5a46c308f63fce12a13774741"><div class="ttname"><a href="structvs__snap__info__callbacks__t.html#a99c137e5a46c308f63fce12a13774741">vs_snap_info_callbacks_t::device_start_cb</a></div><div class="ttdeci">vs_snap_info_start_notif_cb_t device_start_cb</div><div class="ttdoc">Startup notification.</div><div class="ttdef"><b>Definition:</b> info-client.h:191</div></div>
<div class="ttc" id="astructvs__snap__service__t_html"><div class="ttname"><a href="structvs__snap__service__t.html">vs_snap_service_t</a></div><div class="ttdoc">SNAP service descriptor.</div><div class="ttdef"><b>Definition:</b> snap-structs.h:307</div></div>
<div class="ttc" id="astructvs__snap__info__callbacks__t_html_acc603b4ffebd66690f51fdb8d1c1a721"><div class="ttname"><a href="structvs__snap__info__callbacks__t.html#acc603b4ffebd66690f51fdb8d1c1a721">vs_snap_info_callbacks_t::general_info_cb</a></div><div class="ttdeci">vs_snap_info_general_cb_t general_info_cb</div><div class="ttdoc">General information.</div><div class="ttdef"><b>Definition:</b> info-client.h:192</div></div>
<div class="ttc" id="astructvs__snap__info__callbacks__t_html"><div class="ttname"><a href="structvs__snap__info__callbacks__t.html">vs_snap_info_callbacks_t</a></div><div class="ttdoc">INFO client implementations.</div><div class="ttdef"><b>Definition:</b> info-client.h:190</div></div>
<div class="ttc" id="astructvs__info__statistics__t_html"><div class="ttname"><a href="structvs__info__statistics__t.html">vs_info_statistics_t</a></div><div class="ttdoc">Device statistics.</div><div class="ttdef"><b>Definition:</b> info-structs.h:89</div></div>
<div class="ttc" id="astructvs__info__general__t_html"><div class="ttname"><a href="structvs__info__general__t.html">vs_info_general_t</a></div><div class="ttdoc">Device general information.</div><div class="ttdef"><b>Definition:</b> info-structs.h:76</div></div>
<div class="ttc" id="ainfo-structs_8h_html_afd046f89d5f1e7148ed6ee2a95e95cfca9ccef5beb2345cff7f83b0e70c9320b4"><div class="ttname"><a href="info-structs_8h.html#afd046f89d5f1e7148ed6ee2a95e95cfca9ccef5beb2345cff7f83b0e70c9320b4">VS_SNAP_INFO_GENERAL</a></div><div class="ttdoc">General device information vs_info_general_t will be sent.</div><div class="ttdef"><b>Definition:</b> info-structs.h:100</div></div>
<div class="ttc" id="asnap_8h_html_a692661c304f19a0cd382d3948e3fa862"><div class="ttname"><a href="snap_8h.html#a692661c304f19a0cd382d3948e3fa862">vs_snap_register_service</a></div><div class="ttdeci">vs_status_e vs_snap_register_service(const vs_snap_service_t *service)</div><div class="ttdoc">Register SNAP service.</div></div>
<div class="ttc" id="astructvs__snap__info__callbacks__t_html_a4178270988d934649ef0222c867b5731"><div class="ttname"><a href="structvs__snap__info__callbacks__t.html#a4178270988d934649ef0222c867b5731">vs_snap_info_callbacks_t::statistics_cb</a></div><div class="ttdeci">vs_snap_info_statistics_cb_t statistics_cb</div><div class="ttdoc">Device statistics.</div><div class="ttdef"><b>Definition:</b> info-client.h:193</div></div>
<div class="ttc" id="ainfo-client_8h_html_a0721d4bc7056132fa35570c725baca48"><div class="ttname"><a href="info-client_8h.html#a0721d4bc7056132fa35570c725baca48">vs_snap_info_client</a></div><div class="ttdeci">const vs_snap_service_t * vs_snap_info_client(vs_snap_info_callbacks_t callbacks)</div><div class="ttdoc">INFO Client SNAP Service implementation.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
