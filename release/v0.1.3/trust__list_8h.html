<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Virgil IoT KIT: trust_list.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Virgil IoT KIT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e05d7e2b1ecd646af5bb94391405f3b5.html">modules</a></li><li class="navelem"><a class="el" href="dir_82c980a174055921978dd849981d489c.html">provision</a></li><li class="navelem"><a class="el" href="dir_47d5397020ae58994a3bd816cc7cd749.html">trust_list</a></li><li class="navelem"><a class="el" href="dir_d215f1be4afe1dd190b7bd4c081ccee2.html">include</a></li><li class="navelem"><a class="el" href="dir_7523feda0697e994432e8cfb30644405.html">virgil</a></li><li class="navelem"><a class="el" href="dir_7c7b4aef99d61064086f71c05f269acb.html">iot</a></li><li class="navelem"><a class="el" href="dir_c0f1ae2be010cc5990d2920585bdaa9f.html">trust_list</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">trust_list.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Trust List module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;<a class="el" href="secmodule_8h_source.html">virgil/iot/secmodule/secmodule.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="storage__hal_8h_source.html">virgil/iot/storage_hal/storage_hal.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="status__code_8h_source.html">virgil/iot/status_code/status_code.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="update_8h_source.html">virgil/iot/update/update.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="tl__structs_8h_source.html">virgil/iot/trust_list/tl_structs.h</a>&gt;</code><br />
</div>
<p><a href="trust__list_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6f6bbcce30b9c7d7c088b0c29f4ac046"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trust__list_8h.html#a6f6bbcce30b9c7d7c088b0c29f4ac046">vs_tl_init</a> (<a class="el" href="structvs__storage__op__ctx__t.html">vs_storage_op_ctx_t</a> *op_ctx, <a class="el" href="structvs__secmodule__impl__t.html">vs_secmodule_impl_t</a> *secmodule, <a class="el" href="provision-structs_8h.html#ae02f8e7420b5d0cfb3d41b7e3083e8da">vs_file_ver_info_cb_t</a> ver_info_cb)</td></tr>
<tr class="memdesc:a6f6bbcce30b9c7d7c088b0c29f4ac046"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trust List initialization.  <a href="trust__list_8h.html#a6f6bbcce30b9c7d7c088b0c29f4ac046">More...</a><br /></td></tr>
<tr class="separator:a6f6bbcce30b9c7d7c088b0c29f4ac046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad553db05b0d30ace9c5769a4957a51ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trust__list_8h.html#ad553db05b0d30ace9c5769a4957a51ad">vs_tl_deinit</a> (void)</td></tr>
<tr class="memdesc:ad553db05b0d30ace9c5769a4957a51ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trust List destruction.  <a href="trust__list_8h.html#ad553db05b0d30ace9c5769a4957a51ad">More...</a><br /></td></tr>
<tr class="separator:ad553db05b0d30ace9c5769a4957a51ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f58cba3fa4298f7e6856ac689b7ddb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trust__list_8h.html#a42f58cba3fa4298f7e6856ac689b7ddb">vs_tl_save_part</a> (vs_tl_element_info_t *element_info, const uint8_t *in_data, uint16_t data_sz)</td></tr>
<tr class="memdesc:a42f58cba3fa4298f7e6856ac689b7ddb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trust List element saving.  <a href="trust__list_8h.html#a42f58cba3fa4298f7e6856ac689b7ddb">More...</a><br /></td></tr>
<tr class="separator:a42f58cba3fa4298f7e6856ac689b7ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7abc0f3a88c4c9d509953e46f7a74dbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trust__list_8h.html#a7abc0f3a88c4c9d509953e46f7a74dbb">vs_tl_load_part</a> (vs_tl_element_info_t *element_info, uint8_t *out_data, uint16_t buf_sz, uint16_t *out_sz)</td></tr>
<tr class="memdesc:a7abc0f3a88c4c9d509953e46f7a74dbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trust List element loading.  <a href="trust__list_8h.html#a7abc0f3a88c4c9d509953e46f7a74dbb">More...</a><br /></td></tr>
<tr class="separator:a7abc0f3a88c4c9d509953e46f7a74dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015bb0da15c42d6ab85e13b54dd4cc57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvs__update__interface__t.html">vs_update_interface_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trust__list_8h.html#a015bb0da15c42d6ab85e13b54dd4cc57">vs_tl_update_ctx</a> (void)</td></tr>
<tr class="memdesc:a015bb0da15c42d6ab85e13b54dd4cc57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update interface for Trust List.  <a href="trust__list_8h.html#a015bb0da15c42d6ab85e13b54dd4cc57">More...</a><br /></td></tr>
<tr class="separator:a015bb0da15c42d6ab85e13b54dd4cc57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16aae7bc7017d3e66e98bddc456e2a19"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structvs__update__file__type__t.html">vs_update_file_type_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trust__list_8h.html#a16aae7bc7017d3e66e98bddc456e2a19">vs_tl_update_file_type</a> (void)</td></tr>
<tr class="memdesc:a16aae7bc7017d3e66e98bddc456e2a19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trust List file type.  <a href="trust__list_8h.html#a16aae7bc7017d3e66e98bddc456e2a19">More...</a><br /></td></tr>
<tr class="separator:a16aae7bc7017d3e66e98bddc456e2a19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a47cfbda2d69b16538509d127b3f88a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trust__list_8h.html#a1a47cfbda2d69b16538509d127b3f88a">vs_tl_header_to_host</a> (const <a class="el" href="structvs__tl__header__t.html">vs_tl_header_t</a> *src_data, <a class="el" href="structvs__tl__header__t.html">vs_tl_header_t</a> *dst_data)</td></tr>
<tr class="memdesc:a1a47cfbda2d69b16538509d127b3f88a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert Trust List header to host.  <a href="trust__list_8h.html#a1a47cfbda2d69b16538509d127b3f88a">More...</a><br /></td></tr>
<tr class="separator:a1a47cfbda2d69b16538509d127b3f88a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77171f9b7a78473488260a2d49473012"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trust__list_8h.html#a77171f9b7a78473488260a2d49473012">vs_tl_header_to_net</a> (const <a class="el" href="structvs__tl__header__t.html">vs_tl_header_t</a> *src_data, <a class="el" href="structvs__tl__header__t.html">vs_tl_header_t</a> *dst_data)</td></tr>
<tr class="memdesc:a77171f9b7a78473488260a2d49473012"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert Trust List header to network.  <a href="trust__list_8h.html#a77171f9b7a78473488260a2d49473012">More...</a><br /></td></tr>
<tr class="separator:a77171f9b7a78473488260a2d49473012"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Trust List module. </p>
<p>This file provides interface for Trust Lists processing.</p>
<p>Trust List contains the list of trusted public keys and signatures. Initial Trust List is obtained by device during provision. After that, it can be upgraded by Update library using FLDT service.</p>
<h1><a class="anchor" id="trust_list_usage"></a>
Trust List Usage</h1>
<p>Trust List is maintained by Virgil IoT KIT modules and doesn't need to be processed by user. Nonetheless, there are some places where it needs user's attention :</p>
<ul>
<li>Gateway needs to initialize Trust List file type to retransmit it by Update library and to provide <a class="el" href="fldt-server_8h.html#a0e9c60ad35766f11a2adb9757799c9d2" title="Add new file type callback.">vs_fldt_server_add_filetype_cb</a> for FLDT Server service :</li>
</ul>
<div class="fragment"><div class="line"><a class="code" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a></div>
<div class="line">_add_filetype(<span class="keyword">const</span> <a class="code" href="structvs__update__file__type__t.html">vs_update_file_type_t</a> *file_type, <a class="code" href="structvs__update__interface__t.html">vs_update_interface_t</a> **update_ctx) {</div>
<div class="line">    <span class="keywordflow">switch</span> (file_type-&gt;<a class="code" href="structvs__update__file__type__t.html#a7517c1f608ae4cdb9ea1ecd39b0736a3">type</a>) {</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Trust List file type</span></div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="update_8h.html#a07dd661a77d1165a8fe316a298c33abfaafbb884cd6f825bbbb1cd48d229eed65">VS_UPDATE_TRUST_LIST</a>:</div>
<div class="line">            *update_ctx = <a class="code" href="trust__list_8h.html#a015bb0da15c42d6ab85e13b54dd4cc57">vs_tl_update_ctx</a>();</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6">VS_CODE_OK</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="structvs__snap__service__t.html">vs_snap_service_t</a> *snap_fldt_server;   <span class="comment">// FLDT Server service</span></div>
<div class="line">    <a class="code" href="structvs__mac__addr__t.html">vs_mac_addr_t</a> mac_addr;                      <span class="comment">// Own MAC address</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize mac_addr</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">//  FLDT server service</span></div>
<div class="line">    snap_fldt_server = <a class="code" href="fldt-server_8h.html#a9581bcb230153af967963dd25246be45">vs_snap_fldt_server</a>(&amp;mac_addr, _add_filetype);</div>
<div class="line">    <a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="snap_8h.html#a692661c304f19a0cd382d3948e3fa862">vs_snap_register_service</a>(snap_fldt_server), <span class="stringliteral">&quot;Cannot register FLDT server service&quot;</span>);</div>
<div class="line">    <a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="fldt-server_8h.html#af4a7f73f1af4c37c30ce9c98658523fc">vs_fldt_server_add_file_type</a>(<a class="code" href="trust__list_8h.html#a16aae7bc7017d3e66e98bddc456e2a19">vs_tl_update_file_type</a>(), <a class="code" href="trust__list_8h.html#a015bb0da15c42d6ab85e13b54dd4cc57">vs_tl_update_ctx</a>(), <span class="keyword">false</span>),</div>
<div class="line">                 <span class="stringliteral">&quot;Unable to add Trust List file type&quot;</span>);</div>
<div class="line">    <span class="comment">// Other file types</span></div>
</div><!-- fragment --><ul>
<li>After the Gateway receives the new Trust List using Cloud library, it is necessary to send the Trust List version to Things. Use <a class="el" href="trust__list_8h.html#a7abc0f3a88c4c9d509953e46f7a74dbb" title="Trust List element loading.">vs_tl_load_part</a> fir this purpose. This method reads Trust List header :</li>
</ul>
<div class="fragment"><div class="line">vs_tl_element_info_t elem = {.id = <a class="code" href="tl__structs_8h.html#ab384d907a71a3e5d261663d90e4e62b4a3ca4ee89a756bd112d344bc49c894127">VS_TL_ELEMENT_TLH</a>};      <span class="comment">// Trust List header to be read</span></div>
<div class="line"><a class="code" href="structvs__tl__header__t.html">vs_tl_header_t</a> tl_header;                                   <span class="comment">// Header</span></div>
<div class="line">uint16_t tl_header_sz = <span class="keyword">sizeof</span>(tl_header);                  <span class="comment">// Header size</span></div>
<div class="line"><a class="code" href="structvs__update__file__type__t.html">vs_update_file_type_t</a> tl_info;                              <span class="comment">// Trust List file update information</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Load latest local Trust List</span></div>
<div class="line"><a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="trust__list_8h.html#a7abc0f3a88c4c9d509953e46f7a74dbb">vs_tl_load_part</a>(&amp;elem, (uint8_t *)&amp;tl_header, tl_header_sz, &amp;tl_header_sz) &amp;&amp;</div>
<div class="line">     tl_header_sz == <span class="keyword">sizeof</span>(tl_header), <span class="stringliteral">&quot;Unable to load Trust List header&quot;</span>);</div>
<div class="line"><a class="code" href="trust__list_8h.html#a1a47cfbda2d69b16538509d127b3f88a">vs_tl_header_to_host</a>(&amp;tl_header, &amp;tl_header);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Prepare Update information</span></div>
<div class="line">memset(tl_info, 0, <span class="keyword">sizeof</span>(<a class="code" href="structvs__update__file__type__t.html">vs_update_file_type_t</a>));</div>
<div class="line">memcpy(&amp;tl_info.<a class="code" href="structvs__update__file__type__t.html#aea98e39acc6e9965c0e26ac2694e02b2">info</a>.<a class="code" href="structvs__file__info__t.html#a89d29ae16496bb22975b66c1b14a40b5">version</a>, &amp;tl_header.version, <span class="keyword">sizeof</span>(<a class="code" href="structvs__file__version__t.html">vs_file_version_t</a>));</div>
<div class="line"> </div>
<div class="line">tl_info.<a class="code" href="structvs__update__file__type__t.html#a7517c1f608ae4cdb9ea1ecd39b0736a3">type</a> = <a class="code" href="update_8h.html#a07dd661a77d1165a8fe316a298c33abfaafbb884cd6f825bbbb1cd48d229eed65">VS_UPDATE_TRUST_LIST</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Broadcast new Trust List information</span></div>
<div class="line"><a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="fldt-server_8h.html#af4a7f73f1af4c37c30ce9c98658523fc">vs_fldt_server_add_file_type</a>(&amp;tl_info, <a class="code" href="trust__list_8h.html#a015bb0da15c42d6ab85e13b54dd4cc57">vs_tl_update_ctx</a>(), <span class="keyword">true</span>),</div>
<div class="line">        <span class="stringliteral">&quot;Unable to add new Trust List&quot;</span>);</div>
</div><!-- fragment --> </div><h2 class="groupheader">Function Documentation</h2>
<a id="ad553db05b0d30ace9c5769a4957a51ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad553db05b0d30ace9c5769a4957a51ad">&#9670;&nbsp;</a></span>vs_tl_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_tl_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trust List destruction. </p>
<p>Destroys Trust List.</p>
<dl class="section note"><dt>Note</dt><dd>It is called by <a class="el" href="provision_8h.html#adafd70511f5ea213adcbf44c180f88a9" title="Provision destruction.">vs_provision_deinit</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a1a47cfbda2d69b16538509d127b3f88a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a47cfbda2d69b16538509d127b3f88a">&#9670;&nbsp;</a></span>vs_tl_header_to_host()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vs_tl_header_to_host </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvs__tl__header__t.html">vs_tl_header_t</a> *&#160;</td>
          <td class="paramname"><em>src_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvs__tl__header__t.html">vs_tl_header_t</a> *&#160;</td>
          <td class="paramname"><em>dst_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert Trust List header to host. </p>
<p>Convert Trust List header to the host format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">src_data</td><td>Data source. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst_data</td><td>Data destination. Must not be NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77171f9b7a78473488260a2d49473012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77171f9b7a78473488260a2d49473012">&#9670;&nbsp;</a></span>vs_tl_header_to_net()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vs_tl_header_to_net </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvs__tl__header__t.html">vs_tl_header_t</a> *&#160;</td>
          <td class="paramname"><em>src_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvs__tl__header__t.html">vs_tl_header_t</a> *&#160;</td>
          <td class="paramname"><em>dst_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert Trust List header to network. </p>
<p>Convert Trust List header to the network format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">src_data</td><td>Data source. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst_data</td><td>Data destination. Must not be NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f6bbcce30b9c7d7c088b0c29f4ac046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f6bbcce30b9c7d7c088b0c29f4ac046">&#9670;&nbsp;</a></span>vs_tl_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_tl_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvs__storage__op__ctx__t.html">vs_storage_op_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>op_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvs__secmodule__impl__t.html">vs_secmodule_impl_t</a> *&#160;</td>
          <td class="paramname"><em>secmodule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="provision-structs_8h.html#ae02f8e7420b5d0cfb3d41b7e3083e8da">vs_file_ver_info_cb_t</a>&#160;</td>
          <td class="paramname"><em>ver_info_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trust List initialization. </p>
<p>Initializes Trust List.</p>
<dl class="section note"><dt>Note</dt><dd>It is called by <a class="el" href="provision_8h.html#afad0e045c1adefd2ead3071407bc439e" title="Provision initialization.">vs_provision_init</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op_ctx</td><td>Storage context. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">secmodule</td><td>Security Module implementation. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a7abc0f3a88c4c9d509953e46f7a74dbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7abc0f3a88c4c9d509953e46f7a74dbb">&#9670;&nbsp;</a></span>vs_tl_load_part()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_tl_load_part </td>
          <td>(</td>
          <td class="paramtype">vs_tl_element_info_t *&#160;</td>
          <td class="paramname"><em>element_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>out_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>buf_sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>out_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trust List element loading. </p>
<p>Loads Trust List header, footer or data chunk. Element selection is performed by <em>element_info</em> selector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">element_info</td><td>Element selection. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_data</td><td>Output buffer to store data. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_sz</td><td>Buffer size. Must not be zero. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_sz</td><td>Pointer to save stored data size. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a42f58cba3fa4298f7e6856ac689b7ddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42f58cba3fa4298f7e6856ac689b7ddb">&#9670;&nbsp;</a></span>vs_tl_save_part()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_tl_save_part </td>
          <td>(</td>
          <td class="paramtype">vs_tl_element_info_t *&#160;</td>
          <td class="paramname"><em>element_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>in_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trust List element saving. </p>
<p>Saves Trust List header, footer or data chunk. Element selection is performed by <em>element_info</em> selector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">element_info</td><td>Element selection. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_data</td><td>Data to be saved. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_sz</td><td>Data size. Must not be zero.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a015bb0da15c42d6ab85e13b54dd4cc57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a015bb0da15c42d6ab85e13b54dd4cc57">&#9670;&nbsp;</a></span>vs_tl_update_ctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvs__update__interface__t.html">vs_update_interface_t</a>* vs_tl_update_ctx </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update interface for Trust List. </p>
<p>Returns Update context for Trust List.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structvs__update__interface__t.html" title="Update interface context.">vs_update_interface_t</a> </dd></dl>

</div>
</div>
<a id="a16aae7bc7017d3e66e98bddc456e2a19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16aae7bc7017d3e66e98bddc456e2a19">&#9670;&nbsp;</a></span>vs_tl_update_file_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structvs__update__file__type__t.html">vs_update_file_type_t</a>* vs_tl_update_file_type </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trust List file type. </p>
<p>Returns Trust List file type for Update module.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structvs__update__file__type__t.html" title="File type information.">vs_update_file_type_t</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="afldt-server_8h_html_a9581bcb230153af967963dd25246be45"><div class="ttname"><a href="fldt-server_8h.html#a9581bcb230153af967963dd25246be45">vs_snap_fldt_server</a></div><div class="ttdeci">const vs_snap_service_t * vs_snap_fldt_server(const vs_mac_addr_t *gateway_mac, vs_fldt_server_add_filetype_cb add_filetype)</div><div class="ttdoc">FLDT Server SNAP Service implementation.</div></div>
<div class="ttc" id="astructvs__update__file__type__t_html"><div class="ttname"><a href="structvs__update__file__type__t.html">vs_update_file_type_t</a></div><div class="ttdoc">File type information.</div><div class="ttdef"><b>Definition:</b> update.h:70</div></div>
<div class="ttc" id="atl__structs_8h_html_ab384d907a71a3e5d261663d90e4e62b4a3ca4ee89a756bd112d344bc49c894127"><div class="ttname"><a href="tl__structs_8h.html#ab384d907a71a3e5d261663d90e4e62b4a3ca4ee89a756bd112d344bc49c894127">VS_TL_ELEMENT_TLH</a></div><div class="ttdeci">@ VS_TL_ELEMENT_TLH</div><div class="ttdef"><b>Definition:</b> tl_structs.h:77</div></div>
<div class="ttc" id="astatus__code_8h_html_af385b5c6ab5f3183ce75d4d1e676e432"><div class="ttname"><a href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a></div><div class="ttdeci">vs_status_e</div><div class="ttdoc">Status code.</div><div class="ttdef"><b>Definition:</b> status_code.h:77</div></div>
<div class="ttc" id="astructvs__mac__addr__t_html"><div class="ttname"><a href="structvs__mac__addr__t.html">vs_mac_addr_t</a></div><div class="ttdoc">MAC address.</div><div class="ttdef"><b>Definition:</b> snap-structs.h:252</div></div>
<div class="ttc" id="astatus__code_8h_html_aa0d986d170e834631b902001dae653a2"><div class="ttname"><a href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a></div><div class="ttdeci">#define STATUS_CHECK(OPERATION, MESSAGE,...)</div><div class="ttdoc">Status code check and perform goto terminate if non-successful.</div><div class="ttdef"><b>Definition:</b> status_code.h:145</div></div>
<div class="ttc" id="atrust__list_8h_html_a015bb0da15c42d6ab85e13b54dd4cc57"><div class="ttname"><a href="trust__list_8h.html#a015bb0da15c42d6ab85e13b54dd4cc57">vs_tl_update_ctx</a></div><div class="ttdeci">vs_update_interface_t * vs_tl_update_ctx(void)</div><div class="ttdoc">Update interface for Trust List.</div></div>
<div class="ttc" id="astatus__code_8h_html_af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6"><div class="ttname"><a href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6">VS_CODE_OK</a></div><div class="ttdeci">@ VS_CODE_OK</div><div class="ttdoc">Successful operation.</div><div class="ttdef"><b>Definition:</b> status_code.h:80</div></div>
<div class="ttc" id="astructvs__file__version__t_html"><div class="ttname"><a href="structvs__file__version__t.html">vs_file_version_t</a></div><div class="ttdoc">File version information.</div><div class="ttdef"><b>Definition:</b> provision-structs.h:216</div></div>
<div class="ttc" id="afldt-server_8h_html_af4a7f73f1af4c37c30ce9c98658523fc"><div class="ttname"><a href="fldt-server_8h.html#af4a7f73f1af4c37c30ce9c98658523fc">vs_fldt_server_add_file_type</a></div><div class="ttdeci">vs_status_e vs_fldt_server_add_file_type(const vs_update_file_type_t *file_type, vs_update_interface_t *update_context, bool broadcast_file_info)</div><div class="ttdoc">Add file type.</div></div>
<div class="ttc" id="astructvs__snap__service__t_html"><div class="ttname"><a href="structvs__snap__service__t.html">vs_snap_service_t</a></div><div class="ttdoc">SNAP service descriptor.</div><div class="ttdef"><b>Definition:</b> snap-structs.h:312</div></div>
<div class="ttc" id="astructvs__file__info__t_html_a89d29ae16496bb22975b66c1b14a40b5"><div class="ttname"><a href="structvs__file__info__t.html#a89d29ae16496bb22975b66c1b14a40b5">vs_file_info_t::version</a></div><div class="ttdeci">vs_file_version_t version</div><div class="ttdoc">File version.</div><div class="ttdef"><b>Definition:</b> provision-structs.h:228</div></div>
<div class="ttc" id="atrust__list_8h_html_a16aae7bc7017d3e66e98bddc456e2a19"><div class="ttname"><a href="trust__list_8h.html#a16aae7bc7017d3e66e98bddc456e2a19">vs_tl_update_file_type</a></div><div class="ttdeci">const vs_update_file_type_t * vs_tl_update_file_type(void)</div><div class="ttdoc">Trust List file type.</div></div>
<div class="ttc" id="astructvs__tl__header__t_html"><div class="ttname"><a href="structvs__tl__header__t.html">vs_tl_header_t</a></div><div class="ttdoc">Trust List header.</div><div class="ttdef"><b>Definition:</b> tl_structs.h:62</div></div>
<div class="ttc" id="aupdate_8h_html_a07dd661a77d1165a8fe316a298c33abfaafbb884cd6f825bbbb1cd48d229eed65"><div class="ttname"><a href="update_8h.html#a07dd661a77d1165a8fe316a298c33abfaafbb884cd6f825bbbb1cd48d229eed65">VS_UPDATE_TRUST_LIST</a></div><div class="ttdeci">@ VS_UPDATE_TRUST_LIST</div><div class="ttdoc">Trust List files.</div><div class="ttdef"><b>Definition:</b> update.h:65</div></div>
<div class="ttc" id="astructvs__update__file__type__t_html_aea98e39acc6e9965c0e26ac2694e02b2"><div class="ttname"><a href="structvs__update__file__type__t.html#aea98e39acc6e9965c0e26ac2694e02b2">vs_update_file_type_t::info</a></div><div class="ttdeci">vs_file_info_t info</div><div class="ttdoc">Additional file information.</div><div class="ttdef"><b>Definition:</b> update.h:72</div></div>
<div class="ttc" id="astructvs__update__interface__t_html"><div class="ttname"><a href="structvs__update__interface__t.html">vs_update_interface_t</a></div><div class="ttdoc">Update interface context.</div><div class="ttdef"><b>Definition:</b> update.h:284</div></div>
<div class="ttc" id="astructvs__update__file__type__t_html_a7517c1f608ae4cdb9ea1ecd39b0736a3"><div class="ttname"><a href="structvs__update__file__type__t.html#a7517c1f608ae4cdb9ea1ecd39b0736a3">vs_update_file_type_t::type</a></div><div class="ttdeci">uint16_t type</div><div class="ttdoc">vs_update_file_type_id_t</div><div class="ttdef"><b>Definition:</b> update.h:71</div></div>
<div class="ttc" id="atrust__list_8h_html_a1a47cfbda2d69b16538509d127b3f88a"><div class="ttname"><a href="trust__list_8h.html#a1a47cfbda2d69b16538509d127b3f88a">vs_tl_header_to_host</a></div><div class="ttdeci">void vs_tl_header_to_host(const vs_tl_header_t *src_data, vs_tl_header_t *dst_data)</div><div class="ttdoc">Convert Trust List header to host.</div></div>
<div class="ttc" id="asnap_8h_html_a692661c304f19a0cd382d3948e3fa862"><div class="ttname"><a href="snap_8h.html#a692661c304f19a0cd382d3948e3fa862">vs_snap_register_service</a></div><div class="ttdeci">vs_status_e vs_snap_register_service(const vs_snap_service_t *service)</div><div class="ttdoc">Register SNAP service.</div></div>
<div class="ttc" id="atrust__list_8h_html_a7abc0f3a88c4c9d509953e46f7a74dbb"><div class="ttname"><a href="trust__list_8h.html#a7abc0f3a88c4c9d509953e46f7a74dbb">vs_tl_load_part</a></div><div class="ttdeci">vs_status_e vs_tl_load_part(vs_tl_element_info_t *element_info, uint8_t *out_data, uint16_t buf_sz, uint16_t *out_sz)</div><div class="ttdoc">Trust List element loading.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
