<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Virgil IoT SDK: modules/secbox/include/virgil/iot/secbox/secbox.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Virgil IoT SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e05d7e2b1ecd646af5bb94391405f3b5.html">modules</a></li><li class="navelem"><a class="el" href="dir_e15bd4d06cdfc9f70d8980947ffbb6ce.html">secbox</a></li><li class="navelem"><a class="el" href="dir_832bca02239dfff41fa66fba2860f884.html">include</a></li><li class="navelem"><a class="el" href="dir_406585ce521a5e4b44127c6caf3f9140.html">virgil</a></li><li class="navelem"><a class="el" href="dir_813b2271afa0db55e1985ad16a40a341.html">iot</a></li><li class="navelem"><a class="el" href="dir_982867f43dba0ccf06a69f36a3f5064e.html">secbox</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">secbox.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Security Box implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="storage__hal_8h_source.html">virgil/iot/storage_hal/storage_hal.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="status__code_8h_source.html">virgil/iot/status_code/status_code.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="secmodule_8h_source.html">virgil/iot/secmodule/secmodule.h</a>&gt;</code><br />
</div>
<p><a href="secbox_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5708ed8032354b1eea317c239e02095f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="secbox_8h.html#a5708ed8032354b1eea317c239e02095f">vs_secbox_type_t</a> { <a class="el" href="secbox_8h.html#a5708ed8032354b1eea317c239e02095fa0ab6350544c69b9292a10416056623f4">VS_SECBOX_SIGNED</a>, 
<a class="el" href="secbox_8h.html#a5708ed8032354b1eea317c239e02095fa5ee0beabceb67166bbb67519463f5f76">VS_SECBOX_SIGNED_AND_ENCRYPTED</a>
 }</td></tr>
<tr class="memdesc:a5708ed8032354b1eea317c239e02095f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Security box operation type.  <a href="secbox_8h.html#a5708ed8032354b1eea317c239e02095f">More...</a><br /></td></tr>
<tr class="separator:a5708ed8032354b1eea317c239e02095f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9fda3030a2608ee0c1cc847384367d3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="secbox_8h.html#a9fda3030a2608ee0c1cc847384367d3a">vs_secbox_init</a> (<a class="el" href="structvs__storage__op__ctx__t.html">vs_storage_op_ctx_t</a> *ctx, <a class="el" href="structvs__secmodule__impl__t.html">vs_secmodule_impl_t</a> *secmodule)</td></tr>
<tr class="memdesc:a9fda3030a2608ee0c1cc847384367d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Security Box.  <a href="secbox_8h.html#a9fda3030a2608ee0c1cc847384367d3a">More...</a><br /></td></tr>
<tr class="separator:a9fda3030a2608ee0c1cc847384367d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a078386c9f11b40a65e4b12b8cd4eadc4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="secbox_8h.html#a078386c9f11b40a65e4b12b8cd4eadc4">vs_secbox_deinit</a> (void)</td></tr>
<tr class="memdesc:a078386c9f11b40a65e4b12b8cd4eadc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy Security Box.  <a href="secbox_8h.html#a078386c9f11b40a65e4b12b8cd4eadc4">More...</a><br /></td></tr>
<tr class="separator:a078386c9f11b40a65e4b12b8cd4eadc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeab093a208838e6843b7ea81cc402de"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="secbox_8h.html#adeab093a208838e6843b7ea81cc402de">vs_secbox_file_size</a> (<a class="el" href="storage__hal_8h.html#a8f480985f78ad14f43d2469b007ad469">vs_storage_element_id_t</a> id)</td></tr>
<tr class="memdesc:adeab093a208838e6843b7ea81cc402de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Security Box element size.  <a href="secbox_8h.html#adeab093a208838e6843b7ea81cc402de">More...</a><br /></td></tr>
<tr class="separator:adeab093a208838e6843b7ea81cc402de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a531c54da93e7656db5600b2e2ac32722"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="secbox_8h.html#a531c54da93e7656db5600b2e2ac32722">vs_secbox_save</a> (<a class="el" href="secbox_8h.html#a5708ed8032354b1eea317c239e02095f">vs_secbox_type_t</a> type, <a class="el" href="storage__hal_8h.html#a8f480985f78ad14f43d2469b007ad469">vs_storage_element_id_t</a> id, const uint8_t *data, size_t data_sz)</td></tr>
<tr class="memdesc:a531c54da93e7656db5600b2e2ac32722"><td class="mdescLeft">&#160;</td><td class="mdescRight">Security Box element save.  <a href="secbox_8h.html#a531c54da93e7656db5600b2e2ac32722">More...</a><br /></td></tr>
<tr class="separator:a531c54da93e7656db5600b2e2ac32722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ce9c77b8a30078c9ba2198ae949d39f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="secbox_8h.html#a7ce9c77b8a30078c9ba2198ae949d39f">vs_secbox_load</a> (<a class="el" href="storage__hal_8h.html#a8f480985f78ad14f43d2469b007ad469">vs_storage_element_id_t</a> id, uint8_t *data, size_t data_sz)</td></tr>
<tr class="memdesc:a7ce9c77b8a30078c9ba2198ae949d39f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Security Box element load.  <a href="secbox_8h.html#a7ce9c77b8a30078c9ba2198ae949d39f">More...</a><br /></td></tr>
<tr class="separator:a7ce9c77b8a30078c9ba2198ae949d39f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99b561cac15cf5246a03b67789b7ccfa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="secbox_8h.html#a99b561cac15cf5246a03b67789b7ccfa">vs_secbox_del</a> (<a class="el" href="storage__hal_8h.html#a8f480985f78ad14f43d2469b007ad469">vs_storage_element_id_t</a> id)</td></tr>
<tr class="memdesc:a99b561cac15cf5246a03b67789b7ccfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Security Box element delete.  <a href="secbox_8h.html#a99b561cac15cf5246a03b67789b7ccfa">More...</a><br /></td></tr>
<tr class="separator:a99b561cac15cf5246a03b67789b7ccfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Security Box implementation. </p>
<p>Security Box provides the ability to save/load/delete data on external storage with security options. Data can be save with signature without encryption. Or it can be saved with signature and encryption.</p>
<h1><a class="anchor" id="secbox_usage"></a>
Security Box Usage</h1>
<div class="fragment"><div class="line"><a class="code" href="structvs__storage__op__ctx__t.html">vs_storage_op_ctx_t</a> secbox_storage_impl;                    <span class="comment">// Storage for Security Box</span></div>
<div class="line"><a class="code" href="structvs__secmodule__impl__t.html">vs_secmodule_impl_t</a> *secmodule_impl;                        <span class="comment">// Security Module</span></div>
<div class="line"><a class="code" href="secbox_8h.html#a5708ed8032354b1eea317c239e02095f">vs_secbox_type_t</a> type = <a class="code" href="secbox_8h.html#a5708ed8032354b1eea317c239e02095fa5ee0beabceb67166bbb67519463f5f76">VS_SECBOX_SIGNED_AND_ENCRYPTED</a>;     <span class="comment">// Security operation type : signed and encrypted</span></div>
<div class="line"><a class="code" href="storage__hal_8h.html#a8f480985f78ad14f43d2469b007ad469">vs_storage_element_id_t</a> file_id = <span class="stringliteral">&quot;SOME_FILE&quot;</span>;              <span class="comment">// File identifier</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">char</span> data_to_save[] = <span class="stringliteral">&quot;Data to save&quot;</span>;                <span class="comment">// Data to be saved</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">char</span> data_to_load[128];                              <span class="comment">// Read data buffer</span></div>
<div class="line">ssize_t file_size;                                          <span class="comment">// File size</span></div>
<div class="line"><span class="keywordtype">size_t</span> data_size = <span class="keyword">sizeof</span>(data_to_save);                    <span class="comment">// Data size</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize secbox_storage_impl, secmodule_impl</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Security Module can be initialized by default software implementation</span></div>
<div class="line">secmodule_impl = <a class="code" href="vs-soft-secmodule_8h.html#a8fca8d2dd7597bfab1b3fec482bc8854">vs_soft_secmodule_impl</a>(&amp;slots_storage_impl);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize security box</span></div>
<div class="line"><a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="secbox_8h.html#a9fda3030a2608ee0c1cc847384367d3a">vs_secbox_init</a>(&amp;secbox_storage_impl, secmodule_impl), <span class="stringliteral">&quot;Unable to initialize Secbox module&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Save data</span></div>
<div class="line"><a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="secbox_8h.html#a531c54da93e7656db5600b2e2ac32722">vs_secbox_save</a>(type, file_id, data_to_save, data_size), <span class="stringliteral">&quot;Unable to save data&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get file size</span></div>
<div class="line">file_size = <a class="code" href="secbox_8h.html#adeab093a208838e6843b7ea81cc402de">vs_secbox_file_size</a>(file_id);</div>
<div class="line">assert(file_size &gt; 0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Load file</span></div>
<div class="line"><a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="secbox_8h.html#a7ce9c77b8a30078c9ba2198ae949d39f">vs_secbox_load</a>(file_id, data_to_load, data_size), <span class="stringliteral">&quot;Unable to load data&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Delete file</span></div>
<div class="line"><a class="code" href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a>(<a class="code" href="secbox_8h.html#a99b561cac15cf5246a03b67789b7ccfa">vs_secbox_del</a>(file_id), <span class="stringliteral">&quot;Unable to delete file&quot;</span>);</div>
</div><!-- fragment --> </div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a5708ed8032354b1eea317c239e02095f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5708ed8032354b1eea317c239e02095f">&#9670;&nbsp;</a></span>vs_secbox_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="secbox_8h.html#a5708ed8032354b1eea317c239e02095f">vs_secbox_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Security box operation type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5708ed8032354b1eea317c239e02095fa0ab6350544c69b9292a10416056623f4"></a>VS_SECBOX_SIGNED&#160;</td><td class="fielddoc"><p>Signed data. </p>
</td></tr>
<tr><td class="fieldname"><a id="a5708ed8032354b1eea317c239e02095fa5ee0beabceb67166bbb67519463f5f76"></a>VS_SECBOX_SIGNED_AND_ENCRYPTED&#160;</td><td class="fielddoc"><p>Signed and encrypted data. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a078386c9f11b40a65e4b12b8cd4eadc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a078386c9f11b40a65e4b12b8cd4eadc4">&#9670;&nbsp;</a></span>vs_secbox_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_secbox_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy Security Box. </p>
<p>Destroys Security Box. This function must be called after any operations with Security Box.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a99b561cac15cf5246a03b67789b7ccfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99b561cac15cf5246a03b67789b7ccfa">&#9670;&nbsp;</a></span>vs_secbox_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_secbox_del </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="storage__hal_8h.html#a8f480985f78ad14f43d2469b007ad469">vs_storage_element_id_t</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Security Box element delete. </p>
<p>Deletes file on the disk.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Element ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="adeab093a208838e6843b7ea81cc402de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeab093a208838e6843b7ea81cc402de">&#9670;&nbsp;</a></span>vs_secbox_file_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t vs_secbox_file_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="storage__hal_8h.html#a8f480985f78ad14f43d2469b007ad469">vs_storage_element_id_t</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Security Box element size. </p>
<p>Get saved data size without signatures and encryption.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Element ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Element size or <a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432" title="Status code Status code to be returned from function.">vs_status_e</a> negative value in case of error </dd></dl>

</div>
</div>
<a id="a9fda3030a2608ee0c1cc847384367d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fda3030a2608ee0c1cc847384367d3a">&#9670;&nbsp;</a></span>vs_secbox_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_secbox_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvs__storage__op__ctx__t.html">vs_storage_op_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvs__secmodule__impl__t.html">vs_secmodule_impl_t</a> *&#160;</td>
          <td class="paramname"><em>secmodule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Security Box. </p>
<p>Initializes Security Box. This function must be called before any operations with Security Box.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>Storage context. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">secmodule</td><td>Security Module implementation. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a7ce9c77b8a30078c9ba2198ae949d39f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce9c77b8a30078c9ba2198ae949d39f">&#9670;&nbsp;</a></span>vs_secbox_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_secbox_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="storage__hal_8h.html#a8f480985f78ad14f43d2469b007ad469">vs_storage_element_id_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Security Box element load. </p>
<p>Loads data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Element ID </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Data buffer. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_sz</td><td>Data size. Must not be zero.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
<a id="a531c54da93e7656db5600b2e2ac32722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a531c54da93e7656db5600b2e2ac32722">&#9670;&nbsp;</a></span>vs_secbox_save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432">vs_status_e</a> vs_secbox_save </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="secbox_8h.html#a5708ed8032354b1eea317c239e02095f">vs_secbox_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="storage__hal_8h.html#a8f480985f78ad14f43d2469b007ad469">vs_storage_element_id_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Security Box element save. </p>
<p>Saves data with specified crypto mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Security operation type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Element ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Data buffer. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_sz</td><td>Data size. Must not be zero.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="status__code_8h.html#af385b5c6ab5f3183ce75d4d1e676e432a81a1881ebbfde7ce78658862b9ec60b6" title="Successful operation.">VS_CODE_OK</a> in case of success or error code. </dd></dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="astructvs__secmodule__impl__t_html"><div class="ttname"><a href="structvs__secmodule__impl__t.html">vs_secmodule_impl_t</a></div><div class="ttdoc">Security Module implementation.</div><div class="ttdef"><b>Definition:</b> secmodule.h:456</div></div>
<div class="ttc" id="astatus__code_8h_html_aa0d986d170e834631b902001dae653a2"><div class="ttname"><a href="status__code_8h.html#aa0d986d170e834631b902001dae653a2">STATUS_CHECK</a></div><div class="ttdeci">#define STATUS_CHECK(OPERATION, MESSAGE,...)</div><div class="ttdoc">Status code check and goto if non-successful.</div><div class="ttdef"><b>Definition:</b> status_code.h:133</div></div>
<div class="ttc" id="asecbox_8h_html_a9fda3030a2608ee0c1cc847384367d3a"><div class="ttname"><a href="secbox_8h.html#a9fda3030a2608ee0c1cc847384367d3a">vs_secbox_init</a></div><div class="ttdeci">vs_status_e vs_secbox_init(vs_storage_op_ctx_t *ctx, vs_secmodule_impl_t *secmodule)</div><div class="ttdoc">Initialize Security Box.</div></div>
<div class="ttc" id="astorage__hal_8h_html_a8f480985f78ad14f43d2469b007ad469"><div class="ttname"><a href="storage__hal_8h.html#a8f480985f78ad14f43d2469b007ad469">vs_storage_element_id_t</a></div><div class="ttdeci">uint8_t vs_storage_element_id_t[VS_STORAGE_ELEMENT_ID_MAX]</div><div class="ttdef"><b>Definition:</b> storage_hal.h:67</div></div>
<div class="ttc" id="asecbox_8h_html_a7ce9c77b8a30078c9ba2198ae949d39f"><div class="ttname"><a href="secbox_8h.html#a7ce9c77b8a30078c9ba2198ae949d39f">vs_secbox_load</a></div><div class="ttdeci">vs_status_e vs_secbox_load(vs_storage_element_id_t id, uint8_t *data, size_t data_sz)</div><div class="ttdoc">Security Box element load.</div></div>
<div class="ttc" id="asecbox_8h_html_adeab093a208838e6843b7ea81cc402de"><div class="ttname"><a href="secbox_8h.html#adeab093a208838e6843b7ea81cc402de">vs_secbox_file_size</a></div><div class="ttdeci">ssize_t vs_secbox_file_size(vs_storage_element_id_t id)</div><div class="ttdoc">Security Box element size.</div></div>
<div class="ttc" id="asecbox_8h_html_a5708ed8032354b1eea317c239e02095fa5ee0beabceb67166bbb67519463f5f76"><div class="ttname"><a href="secbox_8h.html#a5708ed8032354b1eea317c239e02095fa5ee0beabceb67166bbb67519463f5f76">VS_SECBOX_SIGNED_AND_ENCRYPTED</a></div><div class="ttdoc">Signed and encrypted data.</div><div class="ttdef"><b>Definition:</b> secbox.h:90</div></div>
<div class="ttc" id="asecbox_8h_html_a5708ed8032354b1eea317c239e02095f"><div class="ttname"><a href="secbox_8h.html#a5708ed8032354b1eea317c239e02095f">vs_secbox_type_t</a></div><div class="ttdeci">vs_secbox_type_t</div><div class="ttdoc">Security box operation type.</div><div class="ttdef"><b>Definition:</b> secbox.h:88</div></div>
<div class="ttc" id="asecbox_8h_html_a531c54da93e7656db5600b2e2ac32722"><div class="ttname"><a href="secbox_8h.html#a531c54da93e7656db5600b2e2ac32722">vs_secbox_save</a></div><div class="ttdeci">vs_status_e vs_secbox_save(vs_secbox_type_t type, vs_storage_element_id_t id, const uint8_t *data, size_t data_sz)</div><div class="ttdoc">Security Box element save.</div></div>
<div class="ttc" id="avs-soft-secmodule_8h_html_a8fca8d2dd7597bfab1b3fec482bc8854"><div class="ttname"><a href="vs-soft-secmodule_8h.html#a8fca8d2dd7597bfab1b3fec482bc8854">vs_soft_secmodule_impl</a></div><div class="ttdeci">vs_secmodule_impl_t * vs_soft_secmodule_impl(vs_storage_op_ctx_t *slots_storage_impl)</div><div class="ttdoc">Initialize software crypto implementation.</div></div>
<div class="ttc" id="asecbox_8h_html_a99b561cac15cf5246a03b67789b7ccfa"><div class="ttname"><a href="secbox_8h.html#a99b561cac15cf5246a03b67789b7ccfa">vs_secbox_del</a></div><div class="ttdeci">vs_status_e vs_secbox_del(vs_storage_element_id_t id)</div><div class="ttdoc">Security Box element delete.</div></div>
<div class="ttc" id="astructvs__storage__op__ctx__t_html"><div class="ttname"><a href="structvs__storage__op__ctx__t.html">vs_storage_op_ctx_t</a></div><div class="ttdoc">Storage element context.</div><div class="ttdef"><b>Definition:</b> storage_hal.h:216</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
